var GlobalMethods=function(){function t(){}return t.prototype.ifValEmpty=function(t){for(var n=0;n<t.length;n++)if(""===t.eq(n).val())return!0;return!1},t.prototype.hintErrInpt=function(t){return t.addClass("input-err-hint"),t},t.prototype.enterPressFakeClick=function(t,n){return t.on("keypress",function(t){13!==t.keyCode||n.prop("disabled")||n.trigger("click")}),t},t.prototype.getUrlParam=function(t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),o=window.location.search.substr(1).match(n);return null!==o?decodeURI(o[2]):null},t}(),glb=new GlobalMethods,PublicMethods=function(){function t(){}return t.prototype.navSlide=function(){function t(){var t=$(".nav .more-operate .more-oprate-items"),n=$(".nav .more-operate .fa-ellipsis-v");$(".nav .more-operate .nav-alink").on("mouseenter",function(){t.slideDown("fast"),console.log(n),n.addClass("nav-more-rotate")}),$(".nav .more-operate").on("mouseleave",function(){t.slideUp("fast"),n.removeClass("nav-more-rotate")})}function n(t){t.on("click",function(){$.ajax({type:"POST",url:"/logout",data:{info:"logout"},dataType:"json",success:function(t){console.log("success logout",t),window.location.href="/login"},error:function(t){console.log("logout ajax err",t)},complete:function(){console.log("logout complete")}})})}t(),n($(".nav .nav-ul .more-operate .log-out"))},t}(),pub=new PublicMethods,ExecutePages=function(){function t(){}return t.prototype.edit=function(){function t(){$(".edit-input").on("keyup mouseup touchend",function(){console.log(glb.ifValEmpty($(".edit-input"))),glb.ifValEmpty($(".edit-input"))?$(".button-block .as-btn").prop("disabled",!0):$(".button-block .as-btn").prop("disabled",!1)})}function n(){$.ajax({type:"POST",url:"/get-article-content",data:{id:e},dataType:"json",success:function(t){"get success"===t.info?(console.log(t.result),$(".origin-title .edit-input").val(t.result.oTitle),$(".origin-author .edit-input").val(t.result.oAuthor),$(".origin-time .edit-input").val(t.result.oTime.split("T")[0]),$(".origin-cover .edit-input").val(t.result.oCoverPic),$(".origin-content .edit-input").val(t.result.oContent),$(".trans-title .edit-input").val(t.result.tTitle),$(".trans-author .edit-input").val(t.result.tAuthor),$(".trans-time .edit-input").val(t.result.tTime.split("T")[0]),$(".trans-cover .edit-input").val(t.result.tCoverPic),$(".trans-content .edit-input").val(t.result.tContent)):alert("发生了错误 Σ(;ﾟдﾟ)")},error:function(t){console.log("ajax err",t)},complete:function(){console.log("ajax complete")}})}function o(){var t,n,o,e,i,a,r,l,c,u,s;$(".button-block .as-btn").on("click",function(){$(this).prop("disabled",!0),t=$(".origin-title .edit-input").val(),n=$(".origin-author .edit-input").val(),o=$(".origin-time .edit-input").val(),e=$(".origin-cover .edit-input").val(),i=$(".origin-content .edit-input").val(),a=$(".trans-title .edit-input").val(),r=$(".trans-author .edit-input").val(),l=$(".trans-time .edit-input").val(),c=$(".trans-cover .edit-input").val(),u=$(".trans-content .edit-input").val(),s={oTitle:t,oAuthor:n,oTime:o,oCoverPic:e,oContent:i,tTitle:a,tAuthor:r,tTime:l,tCoverPic:c,tContent:u};var p=JSON.stringify(s),d=$(this).attr("updatefor");console.log(p),$.ajax({type:"POST",url:"/editupload",data:{data:p,id:d},dataType:"json",success:function(t){console.log("success",t),"creat success"===t.info&&(alert("创建成功"),window.location.href="/article-manage")},error:function(t){console.log("ajax err",t),alert("创建失败 错误："+t)},complete:function(){function t(){$(".button-block .as-btn").prop("disabled",!1)}console.log("ajax complete"),setTimeout(t,2e3)}})})}var e=glb.getUrlParam("articleid");t(),o(),pub.navSlide(),e?n():null},t.prototype.about=function(){function t(){var t,n=0;$(".about-image-container img").on("click",function(){n++,console.log(n);var t=$(this);3===n?function(){t.trigger("willChange"),n=0}():null}),$(".about-image-container img").on("willChange",function(){function n(){o.parent().removeClass("avartor-alter"),console.log("remove ani")}console.log("trogger chage"),clearTimeout(t);var o=$(this);o.parent().addClass("avartor-alter"),t=setTimeout(n,5100)})}pub.navSlide(),t()},t.prototype.login=function(){function t(){glb.enterPressFakeClick($("body"),$(".login-btn-container .as-btn"))}function n(){function t(){glb.ifValEmpty($(".login-area label input"))?$(".login-btn-container .as-btn").prop("disabled",!0):$(".login-btn-container .as-btn").prop("disabled",!1)}$(".login-area label input").on("keyup mouseup touchend",function(){$(this).removeClass("input-err-hint"),t()}),t()}function o(){var t,n,o;$(".login-btn-container .as-btn").on("click",function(){$(".login-area label input").blur(),$(this).prop("disabled",!0),t=$(".account-label .login-account").val(),n=$(".password-label .login-password").val(),o={account:t,password:n},$.ajax({type:"POST",url:"/login",data:o,dataType:"json",success:function(t){console.log("success",t),"wrong account"===t.info?glb.hintErrInpt($(".login-area .input-container .account-label .login-account")):"incorrect password"===t.info?glb.hintErrInpt($(".login-area .input-container .password-label .login-password")):"login success"===t.info&&(window.location.href="/article-manage")},error:function(t){console.log("login ajax err",t)},complete:function(){function t(){$(".login-btn-container .as-btn").prop("disabled",!1)}console.log("ajax complete"),setTimeout(t,2e3)}})})}pub.navSlide(),n(),o(),t()},t.prototype.article=function(){pub.navSlide()},t.prototype.articleManage=function(){function t(t){t.slideUp("fast",function(){t.remove()})}function n(){var n=$(".article-content .manage-btns .btn-delete");n.on("click",function(){var n=$(this).parents(".article-display"),o=$(this).parents(".article-content").attr("article_id");return confirm("删除后不可恢复，确定删除？")?void $.ajax({type:"POST",url:"/article-remove",data:{articleId:o},dataType:"json",success:function(o){console.log("success",o),"delete error"===o.info?alert("出错啦 (⊙⊙！) "):"delete success"===o.info&&t(n)},error:function(t){console.log("delete ajax err",t)},complete:function(){}}):!1})}n(),pub.navSlide()},t.prototype.start=function(){pub.navSlide()},t}(),exec=new ExecutePages;
/* app @version v1.0.0 @date 05-19-2016  16:17:28 */

/**AUTHOR:Lam**/
/**EMAIL:1422015387@QQ.COM**/
/**OR whatisurname7@GMAIL.COM**/
//# sourceMappingURL=../maps/typescript.min.js.map
